# 操作系统—线程

> 在进程中有一条线执行的为单线程进程，有多条线执行的为多线程进程（个人理解）

## 1.线程和进程

1. 进程的两个特点：

   * 资源所有权：进程包括存放进程映像的虚拟地址空间

   * 调度/执行：遵循着可能和其他进程交织的执行路径。一个进程一个执行状态（运行 态、就绪态等）和一个被分派的优先级，它被操作系统调度和分派

2. 分配的单位通常称为线程或者轻量级进程

3. 拥有资源所有权的单位称为进程

4. 多线程：操作系统在单个进程内支持多个并发路径的能力

5. 单线程方法、多线程方法

   

6. 在多线程中，进程的定义：

   * 资源分配的单元和一个被保护的单元
   * 存放进程映像的虚拟地址空间
   * 受保护地访问：处理器、其它进程、文件、I/O资源

   

7. 在一个进程中有一个或多个线程，每个线程有

   * 一个执行状态（运行态、就绪态等）
   * 未运行时保存的线程上下文
   * 一个执行栈
   * 用于每个线程局部变量的静态存储空间
   * 对进程的内存和资源的访问 （所有进程内线程共享）

   ![](E:\学习笔记\操作系统\401单线程和多线程进程模型.png)

8. 多线程和多进程比较，多线程的好处

   * 创建时间少
   * 终止时间少
   * 进程内线程切换时间少
   * 通信效率高

   

9. 线程的说明：

   * 在支持线程的操作系统中，调度和分派是在线程基础上完成的
   * 大多数与执行相关的信息可以保存在线程级的数据结构中
   * 挂起一个进程将挂起进程中的所有线程
   * 终止一个进程将终止进程中的所有线程





## 问题

1. 内核级线程的切换可以通过时钟中断触发，但是用户级线程切换，是怎么触发的？
   * 应用程序自己控制的，调用异步方法的时候就会触发
2. golang的协程和用户级线程有什么区别？
   * 没区别