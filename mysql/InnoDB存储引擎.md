# InnoDB存储引擎

## 15.1 InnoDB概论

InnoDB是一个通用存储引擎，它平衡了高可靠性和高性能。在MySQL 8.0中，InnoDB是默认的MySQL存储引擎。除非您已经配置了一个不同的默认存储引擎，否则，发出一个不带engine =子句的CREATE TABLE语句将创建一个InnoDB表

#### InnoDB的主要优点

* 它的DML操作遵循ACID模型，事务具有提交、回滚和崩溃恢复功能，以保护用户数据。更多信息请参见15.2节“InnoDB和ACID模型”
* 行级锁和oracle风格的一致性读取提高了多用户并发性和性能。更多信息请参见15.7节“InnoDB锁定和事务模型”
* InnoDB表将你的数据排列在磁盘上，以优化基于主键的查询。每个InnoDB表都有一个主键索引，称为聚集索引，用于组织数据以最小化主键查找的I/O。更多信息请参见15.6.2.1节“聚集和二级索引”
* 为了保持数据的完整性，InnoDB支持外键约束。使用外键时，将检查插入、更新和删除，以确保它们不会导致不同表之间的不一致。更多信息请参见13.1.20.5节“外键约束”

表15.1 InnoDB存储引擎特性

| 特性                                                      | 支持                                                         |
| --------------------------------------------------------- | ------------------------------------------------------------ |
| B-tree indexes                                            | Yes                                                          |
| 备份/时间点恢复(在服务器中实现，而不是在存储引擎中实现)。 | Yes                                                          |
| 集群数据库支持                                            | No                                                           |
| 聚簇索引                                                  | Yes                                                          |
| 数据压缩                                                  | Yes                                                          |
| 数据缓存                                                  | Yes                                                          |
| 数据加密                                                  | Yes(在服务器上通过加密功能实现;在MySQL 5.7及以后版本中，支持静态数据表空间加密。) |
| 外键支持                                                  | Yes                                                          |
| 全文搜索索引                                              | Yes(InnoDB对全文索引的支持在MySQL 5.6和更高版本中是可用的。) |
| 地理空间数据类型支持                                      | Yes(InnoDB对地理空间索引的支持在MySQL 5.7和更高版本中是可用的)。 |
| 地理空间索引支持                                          | Yes                                                          |
| hash索引                                                  | No(InnoDB内部利用哈希索引来实现自适应哈希索引特性。)         |
| 索引缓存                                                  | Yes                                                          |
| 锁粒度                                                    | Row                                                          |
| MVVC                                                      | Yes                                                          |
| 复制支持(在服务器中实现，而不是在存储引擎中实现)。        | Yes                                                          |
| 存储限制                                                  | 64TB                                                         |
| T-tree索引                                                | No                                                           |
| 事务                                                      | Yes                                                          |
| 更新数据字典的统计信息                                    | Yes                                                          |

要比较InnoDB和MySQL提供的其他存储引擎的特性，请参阅第16章“可选的存储引擎”中的存储引擎特性表。

#### InnoDB增强和新特性

有关InnoDB增强和新特性的信息，请参阅：

* 在1.4节“MySQL 8.0的新特性”中列出了InnoDB的增强列表。
* 发行说明。

#### 额外的InnoDB信息和资源

* 有关innodb相关术语和定义，请参阅MySQL术语表
* 关于InnoDB存储引擎的论坛，请参阅 [MySQL Forums::InnoDB](http://forums.mysql.com/list.php?22).
* InnoDB是在与MySQL相同的GNU GPL许可版本2(1991年6月)下发布的。有关MySQL许可的更多信息，请参见http://www.mysql.com/company/legal/licensing/。

### 15.1.1 使用InnoDB表的好处

你可能会发现InnoDB表很有用，原因如下：

* 如果服务器因为硬件或软件问题而崩溃，无论当时数据库中发生了什么，在重新启动数据库后都不需要做任何特殊操作。InnoDB崩溃恢复自动结束崩溃前提交的所有更改，并撤销所有正在进行但未提交的更改。只要重新开始并在你停止的地方继续
* 









