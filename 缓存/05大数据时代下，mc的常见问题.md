# 大数据时代，MC如何应对新的常见问题？

## 1. 大数据时代 Memcached 经典问题

### 1.1 容量问题

* 为了确保 Mc 的稳定运行，Mc 的内存设置，一般设为物理内存的 80%
* 当前大数据时代，互联网系统中的很多核心业务，需要缓存的热数据在 300~500GB 以上，远远超过单机物理内存的容量

### 1.2 性能瓶颈

* 线上 Mc 的访问，最大 QPS 要在 10~20w 以内，超过则可能会出现慢查的问题
* 中大型互联网系统，核心业务的缓存请求高达百万级 QPS

### 1.3 连接瓶颈

* 出于稳定性考虑，线上 Mc 的连接数要控制在 10w 以下
* 对于大中型系统，线上实例高达万级、甚至十万级，单个实例的最小、最大连接数，一般设置在 5~60 个之间

### 1.4 硬件资源局部故障

* 由于任何硬件资源，都有一定故障概率，而且在使用 4 年后，故障率陡增
* 硬件问题导致mc节点访问性能下降、宕机，海量访问穿透到 DB，引发 DB 过载，导致系统无法访问，引发雪崩现象

### 1.5 流量洪峰下快速扩展

* 在流量洪峰的场景下，如何快速扩展的问题

## 2. Memchcaed 经典问题及应对方案

### 2.1 Memcached 分拆缓存池

### 2.2Master-Slave 两级架构

### 2.3 M-S-L1 架构

